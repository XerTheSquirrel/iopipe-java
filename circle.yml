machine:
  java:
    version: oraclejdk8
  environment:
    MAVEN_OPTS: -Xmx3200m

dependencies:
  pre:
    - npm install serverless
    - which serverless

checkout:
  post:
    - git submodule sync
    - git submodule update --init

deployment:
  releases:
    branch: master
    commands:
      - build-support/handle-mvn-release.sh
      - cd example; mvn clean install package; serverless deploy
